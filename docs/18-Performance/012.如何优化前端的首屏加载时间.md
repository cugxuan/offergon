---
title: å¦‚ä½•ä¼˜åŒ–å‰ç«¯çš„é¦–å±åŠ è½½æ—¶é—´?
tags:
  - æ€§èƒ½ä¼˜åŒ–
status: robot
class: æ€§èƒ½ä¼˜åŒ–
slug: optimize-first-screen-load-time
ref:
---

## æ ¸å¿ƒè¦ç‚¹

**å‡å°‘èµ„æºä½“ç§¯** â†’ **ä¼˜åŒ–åŠ è½½ç­–ç•¥** â†’ **ç¼“å­˜åˆ©ç”¨** â†’ **å…³é”®è·¯å¾„ä¼˜åŒ–** â†’ **æ„ŸçŸ¥æ€§èƒ½æå‡**

é¦–å±åŠ è½½ä¼˜åŒ–éœ€è¦å¤šç»´åº¦é…åˆ:å‹ç¼©èµ„æº(Gzip/å›¾ç‰‡ä¼˜åŒ–)ã€å»¶è¿ŸåŠ è½½(æ‡’åŠ è½½/ä»£ç åˆ†å‰²)ã€ç¼“å­˜ç­–ç•¥(å¼ºç¼“å­˜/åå•†ç¼“å­˜)ã€å…³é”®æ¸²æŸ“è·¯å¾„ä¼˜åŒ–(CSSå†…è”/é¢„åŠ è½½)ã€éª¨æ¶å±/Loadingæå‡ç”¨æˆ·æ„ŸçŸ¥ã€‚

---

## è¯¦ç»†å›ç­”

### ä¸€ã€ç†è§£é¦–å±åŠ è½½çš„å®Œæ•´è¿‡ç¨‹

ä»ç”¨æˆ·è¾“å…¥URLåˆ°é¡µé¢å¯äº¤äº’,ç»å†ä»¥ä¸‹é˜¶æ®µ:

```
1. DNSè§£æ (20-120ms)
    â†“
2. TCPè¿æ¥ (å»ºç«‹è¿æ¥,ä¸‰æ¬¡æ¡æ‰‹ 30-100ms)
    â†“
3. HTTPè¯·æ±‚/å“åº” (æœåŠ¡å™¨å¤„ç† + ä¼ è¾“ 100-500ms)
    â†“
4. HTMLè§£æ (æ„å»ºDOMæ ‘ 50-200ms)
    â†“
5. CSSè§£æ (æ„å»ºCSSOMæ ‘ 30-150ms)
    â†“
6. JavaScriptæ‰§è¡Œ (å¯èƒ½é˜»å¡æ¸²æŸ“ 100-1000ms)
    â†“
7. æ¸²æŸ“æ ‘æ„å»º + å¸ƒå±€è®¡ç®— (Layout 50-200ms)
    â†“
8. ç»˜åˆ¶ + åˆæˆ (Paint & Composite 30-100ms)
    â†“
9. é¦–å±å¯è§ (FCP: First Contentful Paint)
    â†“
10. é¡µé¢å¯äº¤äº’ (TTI: Time to Interactive)
```

**ä¼˜åŒ–ç›®æ ‡**:
- **FCP** (é¦–æ¬¡å†…å®¹ç»˜åˆ¶) < 1.8s
- **LCP** (æœ€å¤§å†…å®¹ç»˜åˆ¶) < 2.5s
- **TTI** (å¯äº¤äº’æ—¶é—´) < 3.8s

---

### äºŒã€ä¼˜åŒ–ç­–ç•¥

#### 1. **å‡å°‘èµ„æºä½“ç§¯**

##### (1) JavaScript/CSSå‹ç¼©ä¸Tree Shaking

```javascript
// Webpacké…ç½®ä¼˜åŒ–
module.exports = {
  mode: 'production',  // è‡ªåŠ¨å¯ç”¨å‹ç¼©
  optimization: {
    minimize: true,
    usedExports: true,  // Tree Shaking:åˆ é™¤æœªä½¿ç”¨ä»£ç 
    splitChunks: {
      chunks: 'all',
      cacheGroups: {
        vendor: {
          test: /node_modules/,
          name: 'vendors',
          priority: 10
        }
      }
    }
  }
}
```

**æ•ˆæœå¯¹æ¯”**:
```
ä¼˜åŒ–å‰: bundle.js 800KB
ä¼˜åŒ–å:
  - main.js 150KB (ä¸šåŠ¡ä»£ç )
  - vendors.js 300KB (ç¬¬ä¸‰æ–¹åº“,å¯é•¿æœŸç¼“å­˜)
  - å‡å°‘ 44% ä½“ç§¯
```

##### (2) Gzip/Brotliå‹ç¼©

```nginx
# Nginxé…ç½®
http {
    gzip on;
    gzip_min_length 1k;
    gzip_comp_level 6;
    gzip_types text/plain text/css application/javascript application/json;

    # Brotliå‹ç¼©(æ¯”Gzipæ›´ä¼˜)
    brotli on;
    brotli_comp_level 6;
    brotli_types text/plain text/css application/javascript;
}
```

**å‹ç¼©æ•ˆæœ**:
- Gzip: å‹ç¼©ç‡ 60-70%
- Brotli: å‹ç¼©ç‡ 70-80% (ä½†CPUå¼€é”€æ›´å¤§)

##### (3) å›¾ç‰‡ä¼˜åŒ–

**ç­–ç•¥A:é€‰æ‹©åˆé€‚çš„æ ¼å¼**

| æ ¼å¼ | é€‚ç”¨åœºæ™¯ | å‹ç¼©ç‡ | æµè§ˆå™¨æ”¯æŒ |
|------|----------|--------|------------|
| **WebP** | ç°ä»£æµè§ˆå™¨é¦–é€‰ | æ¯”JPEGå°30% | Chrome/Edge/Firefox |
| **AVIF** | æœ€æ–°æ ¼å¼ | æ¯”WebPå†å°20% | Chrome 85+ |
| **JPEG** | ç…§ç‰‡ | ä¸­ç­‰ | å…¨éƒ¨ |
| **PNG** | é€æ˜å›¾/å›¾æ ‡ | ä½ | å…¨éƒ¨ |
| **SVG** | çŸ¢é‡å›¾/Logo | æå° | å…¨éƒ¨ |

**å“åº”å¼å›¾ç‰‡**:

```html
<picture>
  <!-- ç°ä»£æµè§ˆå™¨ä¼˜å…ˆåŠ è½½WebP -->
  <source srcset="image.webp" type="image/webp">
  <!-- é™çº§åˆ°JPEG -->
  <img src="image.jpg" alt="æè¿°" loading="lazy">
</picture>

<!-- å“åº”å¼å°ºå¯¸ -->
<img srcset="
  small.jpg 480w,
  medium.jpg 800w,
  large.jpg 1200w"
  sizes="(max-width: 600px) 480px, 800px"
  src="medium.jpg">
```

**ç­–ç•¥B:å›¾ç‰‡å‹ç¼©å·¥å…·**

```bash
# ImageMagickå‹ç¼©JPEG(è´¨é‡75%)
convert input.jpg -quality 75 output.jpg

# ä½¿ç”¨imageminè‡ªåŠ¨åŒ–
npm install imagemin imagemin-webp
```

```javascript
// æ„å»ºæ—¶è‡ªåŠ¨è½¬WebP
const imagemin = require('imagemin');
const imageminWebp = require('imagemin-webp');

imagemin(['images/*.{jpg,png}'], {
  destination: 'dist/images',
  plugins: [imageminWebp({ quality: 75 })]
});
```

**ç­–ç•¥C:æ‡’åŠ è½½(Lazy Loading)**

```javascript
// åŸç”ŸAPIå®ç°æ‡’åŠ è½½
const images = document.querySelectorAll('img[data-src]');

const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      const img = entry.target;
      img.src = img.dataset.src;  // çœŸæ­£åŠ è½½å›¾ç‰‡
      observer.unobserve(img);
    }
  });
});

images.forEach(img => observer.observe(img));
```

```html
<!-- HTML -->
<img data-src="real-image.jpg" src="placeholder.jpg" alt="æè¿°">
```

---

#### 2. **ä»£ç åˆ†å‰²ä¸æŒ‰éœ€åŠ è½½**

##### (1) è·¯ç”±çº§åˆ«ä»£ç åˆ†å‰²

```javascript
// Reactè·¯ç”±æ‡’åŠ è½½
import { lazy, Suspense } from 'react';

const Home = lazy(() => import('./pages/Home'));
const About = lazy(() => import('./pages/About'));
const Dashboard = lazy(() => import('./pages/Dashboard'));

function App() {
  return (
    <Suspense fallback={<div>Loading...</div>}>
      <Routes>
        <Route path="/" element={<Home />} />
        <Route path="/about" element={<About />} />
        <Route path="/dashboard" element={<Dashboard />} />
      </Routes>
    </Suspense>
  );
}
```

**æ•ˆæœ**:
```
ä¼˜åŒ–å‰: å•ä¸ªbundle 1.2MB,é¦–å±åŠ è½½å…¨éƒ¨ä»£ç 
ä¼˜åŒ–å:
  - é¦–å±åªåŠ è½½Homeé¡µé¢ (200KB)
  - å…¶ä»–é¡µé¢æŒ‰éœ€åŠ è½½
  - é¦–å±æ—¶é—´å‡å°‘ 60%
```

##### (2) ç»„ä»¶çº§åˆ«æ‡’åŠ è½½

```javascript
// å¤§å‹ç»„ä»¶æŒ‰éœ€å¯¼å…¥(å¦‚å›¾è¡¨åº“)
const ChartComponent = lazy(() => import('./ChartComponent'));

function Dashboard() {
  const [showChart, setShowChart] = useState(false);

  return (
    <div>
      <button onClick={() => setShowChart(true)}>æ˜¾ç¤ºå›¾è¡¨</button>
      {showChart && (
        <Suspense fallback={<Spinner />}>
          <ChartComponent />
        </Suspense>
      )}
    </div>
  );
}
```

##### (3) ç¬¬ä¸‰æ–¹åº“æŒ‰éœ€å¼•å…¥

```javascript
// âŒ é”™è¯¯:å¯¼å…¥æ•´ä¸ªlodash (70KB)
import _ from 'lodash';
_.debounce(fn, 300);

// âœ… æ­£ç¡®:åªå¯¼å…¥éœ€è¦çš„å‡½æ•° (2KB)
import debounce from 'lodash/debounce';
debounce(fn, 300);
```

---

#### 3. **ç¼“å­˜ç­–ç•¥**

##### (1) å¼ºç¼“å­˜(Static Assets)

```nginx
# Nginxé…ç½®
location ~* \.(js|css|png|jpg|jpeg|gif|svg|woff2)$ {
    expires 1y;  # é™æ€èµ„æºç¼“å­˜1å¹´
    add_header Cache-Control "public, immutable";
}

location ~* \.html$ {
    expires -1;  # HTMLä¸ç¼“å­˜
    add_header Cache-Control "no-cache, no-store, must-revalidate";
}
```

**æ–‡ä»¶æŒ‡çº¹(Hash)**:

```javascript
// Webpacké…ç½®:æ–‡ä»¶ååŒ…å«hash
output: {
  filename: '[name].[contenthash:8].js',
  chunkFilename: '[name].[contenthash:8].chunk.js'
}
```

**æ•ˆæœ**:
```
app.abc123de.js  // å†…å®¹å˜åŒ–æ—¶hashå˜åŒ–,è‡ªåŠ¨æ›´æ–°ç¼“å­˜
vendors.xyz789.js  // ç¬¬ä¸‰æ–¹åº“ä¸å˜,æµè§ˆå™¨ä½¿ç”¨ç¼“å­˜
```

##### (2) Service Workerç¦»çº¿ç¼“å­˜

```javascript
// service-worker.js
const CACHE_NAME = 'my-app-v1';
const urlsToCache = [
  '/',
  '/styles/main.css',
  '/scripts/main.js',
  '/images/logo.png'
];

// å®‰è£…é˜¶æ®µ:ç¼“å­˜é™æ€èµ„æº
self.addEventListener('install', event => {
  event.waitUntil(
    caches.open(CACHE_NAME)
      .then(cache => cache.addAll(urlsToCache))
  );
});

// è¯·æ±‚æ‹¦æˆª:ä¼˜å…ˆä½¿ç”¨ç¼“å­˜
self.addEventListener('fetch', event => {
  event.respondWith(
    caches.match(event.request)
      .then(response => response || fetch(event.request))
  );
});
```

**æ•ˆæœ**:äºŒæ¬¡è®¿é—®æ—¶,é™æ€èµ„æºç›´æ¥ä»æœ¬åœ°ç¼“å­˜åŠ è½½,å‡ ä¹0å»¶è¿Ÿ

##### (3) HTTP/2æœåŠ¡å™¨æ¨é€

```nginx
# Nginx HTTP/2 Push
location / {
    http2_push /styles/main.css;
    http2_push /scripts/main.js;
}
```

**åŸç†**:æœåŠ¡å™¨åœ¨è¿”å›HTMLå‰,ä¸»åŠ¨æ¨é€å…³é”®CSS/JS,å‡å°‘å¾€è¿”è¯·æ±‚

---

#### 4. **å…³é”®æ¸²æŸ“è·¯å¾„ä¼˜åŒ–**

##### (1) CSSä¼˜åŒ–

**å†…è”å…³é”®CSS**:

```html
<head>
  <!-- å†…è”é¦–å±CSS,é¿å…é¢å¤–è¯·æ±‚ -->
  <style>
    /* åªåŒ…å«é¦–å±å¿…éœ€çš„æ ·å¼(é€šå¸¸<14KB) */
    .header { background: #333; }
    .hero { height: 500px; }
  </style>

  <!-- éå…³é”®CSSå¼‚æ­¥åŠ è½½ -->
  <link rel="preload" href="/styles/main.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="/styles/main.css"></noscript>
</head>
```

**è‡ªåŠ¨æå–å…³é”®CSS**:

```javascript
// ä½¿ç”¨criticalåŒ…
const critical = require('critical');

critical.generate({
  inline: true,
  base: 'dist/',
  src: 'index.html',
  target: 'index.html',
  width: 1300,
  height: 900
});
```

##### (2) JavaScriptä¼˜åŒ–

**deferå’Œasyncçš„åŒºåˆ«**:

```html
<!-- âŒ é˜»å¡HTMLè§£æ -->
<script src="script.js"></script>

<!-- âœ… å¼‚æ­¥ä¸‹è½½,HTMLè§£æå®Œåæ‰§è¡Œ -->
<script defer src="script.js"></script>

<!-- âš ï¸ å¼‚æ­¥ä¸‹è½½+æ‰§è¡Œ,å¯èƒ½ä¹±åº(é€‚åˆç‹¬ç«‹è„šæœ¬) -->
<script async src="analytics.js"></script>
```

**æ—¶é—´çº¿å¯¹æ¯”**:

```
æ­£å¸¸script:
HTMLè§£æ â†’ [é˜»å¡ä¸‹è½½+æ‰§è¡ŒJS] â†’ ç»§ç»­è§£æ

defer:
HTMLè§£æ(å¹¶è¡Œä¸‹è½½JS) â†’ HTMLè§£æå®Œæˆ â†’ æ‰§è¡ŒJS

async:
HTMLè§£æ(å¹¶è¡Œä¸‹è½½JS) â†’ [ä¸‹è½½å®Œç«‹å³æ‰§è¡Œ,é˜»å¡HTML] â†’ ç»§ç»­è§£æ
```

**æ¨è**:ä¸šåŠ¡é€»è¾‘ä½¿ç”¨defer,ç¬¬ä¸‰æ–¹ç»Ÿè®¡ä½¿ç”¨async

##### (3) é¢„åŠ è½½/é¢„è¿æ¥

```html
<head>
  <!-- DNSé¢„è§£æ -->
  <link rel="dns-prefetch" href="//cdn.example.com">

  <!-- é¢„è¿æ¥(DNS + TCP + TLS) -->
  <link rel="preconnect" href="https://api.example.com">

  <!-- é¢„åŠ è½½å…³é”®èµ„æº -->
  <link rel="preload" href="/fonts/font.woff2" as="font" crossorigin>
  <link rel="preload" href="/styles/critical.css" as="style">

  <!-- é¢„è·å–ä¸‹ä¸€é¡µå¯èƒ½ç”¨åˆ°çš„èµ„æº -->
  <link rel="prefetch" href="/pages/about.js">
</head>
```

**å¯¹æ¯”**:

| æŒ‡ä»¤ | ä¼˜å…ˆçº§ | ä½¿ç”¨åœºæ™¯ |
|------|--------|----------|
| **preload** | é«˜ | å½“å‰é¡µé¢å¿…éœ€èµ„æº(å­—ä½“/å…³é”®CSS) |
| **prefetch** | ä½ | ä¸‹ä¸€é¡µå¯èƒ½ç”¨åˆ°çš„èµ„æº |
| **dns-prefetch** | - | å‡å°‘DNSæŸ¥è¯¢æ—¶é—´ |
| **preconnect** | - | æå‰å»ºç«‹è¿æ¥(CDN/API) |

---

#### 5. **ç½‘ç»œå±‚ä¼˜åŒ–**

##### (1) CDNåŠ é€Ÿ

```html
<!-- ä½¿ç”¨CDNæ‰˜ç®¡é™æ€èµ„æº -->
<script src="https://cdn.jsdelivr.net/npm/react@18/umd/react.production.min.js"></script>
```

**ä¼˜åŠ¿**:
- åœ°ç†ä½ç½®æ›´è¿‘(è¾¹ç¼˜èŠ‚ç‚¹)
- å‡è½»æºç«™å‹åŠ›
- é€šå¸¸å·²è¢«ç¼“å­˜(å…¬å…±CDN)

##### (2) HTTP/2å¤šè·¯å¤ç”¨

```
HTTP/1.1:
è¯·æ±‚1 â†’ å“åº”1 â†’ è¯·æ±‚2 â†’ å“åº”2 â†’ è¯·æ±‚3 â†’ å“åº”3
(é˜Ÿå¤´é˜»å¡,æµè§ˆå™¨é™åˆ¶6ä¸ªå¹¶å‘è¿æ¥)

HTTP/2:
è¯·æ±‚1 â†˜
è¯·æ±‚2 â†’ [å•ä¸ªTCPè¿æ¥å¤šè·¯å¤ç”¨] â†’ å“åº”1/2/3åŒæ—¶è¿”å›
è¯·æ±‚3 â†—
```

**é…ç½®**:

```nginx
server {
    listen 443 ssl http2;  # å¯ç”¨HTTP/2
    ssl_certificate cert.pem;
    ssl_certificate_key key.pem;
}
```

##### (3) å‡å°‘é‡å®šå‘

```
âŒ åè®¾è®¡:
http://example.com â†’ https://example.com â†’ https://www.example.com/home
(2æ¬¡é‡å®šå‘ = +200mså»¶è¿Ÿ)

âœ… å¥½è®¾è®¡:
http://example.com â†’ https://www.example.com (1æ¬¡é‡å®šå‘)
```

---

#### 6. **æå‡æ„ŸçŸ¥æ€§èƒ½**

ç”¨æˆ·ä½“éªŒä¸ä»…å–å†³äºå®é™…åŠ è½½æ—¶é—´,è¿˜å–å†³äº**æ„ŸçŸ¥é€Ÿåº¦**ã€‚

##### (1) éª¨æ¶å±(Skeleton Screen)

```javascript
// Reactéª¨æ¶å±ç»„ä»¶
function ProductSkeleton() {
  return (
    <div className="skeleton">
      <div className="skeleton-image"></div>
      <div className="skeleton-title"></div>
      <div className="skeleton-text"></div>
    </div>
  );
}

function ProductList() {
  const [loading, setLoading] = useState(true);
  const [products, setProducts] = useState([]);

  useEffect(() => {
    fetchProducts().then(data => {
      setProducts(data);
      setLoading(false);
    });
  }, []);

  if (loading) return <ProductSkeleton />;
  return <div>{products.map(p => <Product data={p} />)}</div>;
}
```

```css
/* éª¨æ¶å±æ ·å¼ */
.skeleton-image {
  width: 100%;
  height: 200px;
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: loading 1.5s infinite;
}

@keyframes loading {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}
```

##### (2) æ¸è¿›å¼æ¸²æŸ“

```javascript
// ä¼˜å…ˆæ¸²æŸ“å¯è§åŒºåŸŸ,å»¶è¿Ÿæ¸²æŸ“ä¸‹æ–¹å†…å®¹
function Homepage() {
  return (
    <>
      {/* é¦–å±ç«‹å³æ¸²æŸ“ */}
      <Hero />
      <Products />

      {/* éé¦–å±å»¶è¿Ÿæ¸²æŸ“ */}
      <LazyLoad offset={300}>
        <Reviews />
        <Footer />
      </LazyLoad>
    </>
  );
}
```

##### (3) åŠ è½½æŒ‡ç¤ºå™¨

```javascript
// æ˜¾ç¤ºåŠ è½½è¿›åº¦
function App() {
  const [progress, setProgress] = useState(0);

  useEffect(() => {
    // ç›‘å¬èµ„æºåŠ è½½è¿›åº¦
    const updateProgress = () => {
      const loaded = performance.getEntriesByType('resource').length;
      const total = document.querySelectorAll('img, script, link').length;
      setProgress((loaded / total) * 100);
    };

    window.addEventListener('load', updateProgress);
    const timer = setInterval(updateProgress, 100);

    return () => clearInterval(timer);
  }, []);

  return (
    <div>
      <div className="progress-bar" style={{ width: `${progress}%` }} />
      <Content />
    </div>
  );
}
```

---

### ä¸‰ã€æœåŠ¡ç«¯ä¼˜åŒ–

#### 1. SSR (æœåŠ¡ç«¯æ¸²æŸ“)

```javascript
// Next.jsç¤ºä¾‹
export async function getServerSideProps() {
  const data = await fetchData();
  return { props: { data } };  // é¢„å…ˆè·å–æ•°æ®
}

function Page({ data }) {
  return <div>{data.title}</div>;  // æœåŠ¡å™¨è¿”å›å®Œæ•´HTML
}
```

**ä¼˜åŠ¿**:
- é¦–å±HTMLç›´æ¥å¯è§(æ— éœ€ç­‰å¾…JSæ‰§è¡Œ)
- SEOå‹å¥½

**åŠ£åŠ¿**:
- æœåŠ¡å™¨å‹åŠ›å¤§
- TTFB (Time to First Byte) å¢åŠ 

#### 2. SSG (é™æ€ç«™ç‚¹ç”Ÿæˆ)

```javascript
// Next.jsé™æ€ç”Ÿæˆ
export async function getStaticProps() {
  const data = await fetchData();
  return { props: { data }, revalidate: 60 };  // æ„å»ºæ—¶ç”Ÿæˆ,60sç¼“å­˜
}
```

**é€‚ç”¨åœºæ™¯**:åšå®¢ã€æ–‡æ¡£ã€å•†å“åˆ—è¡¨ç­‰å†…å®¹è¾ƒé™æ€çš„é¡µé¢

#### 3. ISR (å¢é‡é™æ€å†ç”Ÿ)

ç»“åˆSSG+æŒ‰éœ€æ›´æ–°,å…¼é¡¾æ€§èƒ½å’Œå®æ—¶æ€§

---

### å››ã€æ€§èƒ½ç›‘æ§

#### 1. æ ¸å¿ƒæŒ‡æ ‡

```javascript
// ä½¿ç”¨Performance APIé‡‡é›†
const perfData = performance.getEntriesByType('navigation')[0];

const metrics = {
  // DNSæŸ¥è¯¢æ—¶é—´
  dns: perfData.domainLookupEnd - perfData.domainLookupStart,

  // TCPè¿æ¥æ—¶é—´
  tcp: perfData.connectEnd - perfData.connectStart,

  // é¦–å­—èŠ‚æ—¶é—´(TTFB)
  ttfb: perfData.responseStart - perfData.requestStart,

  // DOMè§£ææ—¶é—´
  domParse: perfData.domInteractive - perfData.responseEnd,

  // é¦–å±æ—¶é—´(FCP)
  fcp: performance.getEntriesByName('first-contentful-paint')[0]?.startTime,

  // æœ€å¤§å†…å®¹ç»˜åˆ¶(LCP)
  lcp: new PerformanceObserver((list) => {
    const entries = list.getEntries();
    const lastEntry = entries[entries.length - 1];
    console.log('LCP:', lastEntry.renderTime || lastEntry.loadTime);
  }).observe({ entryTypes: ['largest-contentful-paint'] })
};
```

#### 2. ä½¿ç”¨Lighthouse

```bash
# å‘½ä»¤è¡Œå·¥å…·
npm install -g lighthouse
lighthouse https://example.com --view

# CIé›†æˆ
lighthouse https://example.com --output json --output-path report.json
```

**è¯„åˆ†æ ‡å‡†**:
- Performance: ç»¼åˆæ€§èƒ½è¯„åˆ†
- Accessibility: å¯è®¿é—®æ€§
- Best Practices: æœ€ä½³å®è·µ
- SEO: æœç´¢å¼•æ“ä¼˜åŒ–

#### 3. çœŸå®ç”¨æˆ·ç›‘æ§(RUM)

```javascript
// ä¸ŠæŠ¥çœŸå®ç”¨æˆ·æ•°æ®
if ('PerformanceObserver' in window) {
  const observer = new PerformanceObserver((list) => {
    for (const entry of list.getEntries()) {
      // ä¸ŠæŠ¥åˆ°ç›‘æ§å¹³å°
      sendToAnalytics({
        metric: entry.name,
        value: entry.value,
        rating: entry.rating
      });
    }
  });

  observer.observe({ entryTypes: ['largest-contentful-paint', 'first-input'] });
}
```

---

### äº”ã€å®Œæ•´ä¼˜åŒ–æ¸…å•

| ä¼˜åŒ–é¡¹ | éš¾åº¦ | æ•ˆæœ | ä¼˜å…ˆçº§ |
|--------|------|------|--------|
| å¯ç”¨Gzip/Brotli | ä½ | â˜…â˜…â˜…â˜…â˜… | ğŸ”¥ å¿…åš |
| å›¾ç‰‡å‹ç¼©+WebP | ä½ | â˜…â˜…â˜…â˜… | ğŸ”¥ å¿…åš |
| ä»£ç åˆ†å‰²(è·¯ç”±çº§) | ä¸­ | â˜…â˜…â˜…â˜…â˜… | ğŸ”¥ å¿…åš |
| ä½¿ç”¨CDN | ä½ | â˜…â˜…â˜…â˜… | ğŸ”¥ å¿…åš |
| æ‡’åŠ è½½å›¾ç‰‡ | ä½ | â˜…â˜…â˜… | æ¨è |
| å†…è”å…³é”®CSS | ä¸­ | â˜…â˜…â˜… | æ¨è |
| é¢„åŠ è½½å…³é”®èµ„æº | ä½ | â˜…â˜… | æ¨è |
| Service Worker | é«˜ | â˜…â˜…â˜… | å¯é€‰ |
| HTTP/2 | ä½ | â˜…â˜… | å¯é€‰ |
| SSR/SSG | é«˜ | â˜…â˜…â˜…â˜… | ç‰¹å®šåœºæ™¯ |

---

### å…­ã€é¢è¯•æŠ€å·§

**å›ç­”ç»“æ„**:

1. **åˆ†æç°çŠ¶**(ç”¨å·¥å…·è¯Šæ–­,å¦‚LighthouseæŠ¥å‘Š)
2. **åˆ†å±‚ä¼˜åŒ–**(èµ„æºä½“ç§¯â†’åŠ è½½ç­–ç•¥â†’æ¸²æŸ“ä¼˜åŒ–â†’æ„ŸçŸ¥ä¼˜åŒ–)
3. **é‡åŒ–ç»“æœ**(å¦‚"é€šè¿‡ä»£ç åˆ†å‰²,é¦–å±æ—¶é—´ä»5.2sé™è‡³1.8s")
4. **æŒç»­ç›‘æ§**(ä¸ŠæŠ¥çœŸå®ç”¨æˆ·æ•°æ®,A/Bæµ‹è¯•)

**åŠ åˆ†é¡¹**:
- æåˆ°Core Web Vitals(LCP/FID/CLS)
- å±•ç¤ºå®é™…ä¼˜åŒ–æ¡ˆä¾‹(å¸¦æ•°æ®å¯¹æ¯”)
- æåˆ°å·¥ç¨‹åŒ–å®è·µ(è‡ªåŠ¨åŒ–æ„å»ºä¼˜åŒ–)
- ç†è§£æµè§ˆå™¨æ¸²æŸ“åŸç†(é‡æ’/é‡ç»˜/åˆæˆå±‚)

**ç¤ºä¾‹å›ç­”**:

> "æˆ‘ä¼šä»ä¸‰ä¸ªå±‚é¢ä¼˜åŒ–:ç¬¬ä¸€,èµ„æºå±‚é¢,é€šè¿‡Webpack Tree Shakingå’Œä»£ç åˆ†å‰²,å°†bundleä»800KBé™è‡³300KB,é…åˆGzipå‹ç¼©åˆ°80KB;ç¬¬äºŒ,åŠ è½½ç­–ç•¥,ä½¿ç”¨è·¯ç”±çº§æ‡’åŠ è½½å’Œå›¾ç‰‡æ‡’åŠ è½½,é¦–å±åªåŠ è½½å¿…éœ€èµ„æº;ç¬¬ä¸‰,æ¸²æŸ“ä¼˜åŒ–,å†…è”å…³é”®CSSé¿å…é˜»å¡,deferåŠ è½½JS,æœ€ç»ˆå°†LCPä»4.5sä¼˜åŒ–åˆ°1.9s,Lighthouseè¯„åˆ†ä»62æå‡åˆ°95ã€‚æˆ‘ä»¬é€šè¿‡RUMç›‘æ§å‘ç°,ä¼˜åŒ–åçš„è·³å‡ºç‡é™ä½äº†30%ã€‚"
